---
import Icon from '~/components/Icon.astro';
import { ICONS } from '~/utils/iconPaths';
import { tools } from '~/data/tools';

const sectionTitleId = `tools-heading-${Math.random().toString(36).slice(2, 7)}`;
---
<section
  class="rounded-4xl border border-slate-800/60 bg-surface-elevated/70 p-8 text-slate-200 shadow-[0_0_70px_-40px_rgba(34,211,238,0.7)] sm:p-12"
  aria-labelledby={sectionTitleId}
>
  <header class="max-w-3xl space-y-3">
    <p class="font-mono text-xs uppercase tracking-[0.5em] text-accent-light/80">// tools</p>
    <h2 id={sectionTitleId} class="text-3xl font-semibold text-white sm:text-4xl">
      Tooling that keeps delivery fast, observable, and repeatable.
    </h2>
    <p class="text-sm leading-relaxed text-slate-300 sm:text-base">
      Each kit ships with documentation and guardrails so teams can plug into reliable workflows without slowing down onboarding.
    </p>
  </header>
  <div class="mt-10 grid grid-cols-1 gap-6 md:grid-cols-3" role="list">
    {tools.map((tool) => {
      const icon = ICONS[tool.icon];
      const arrow = ICONS.arrowUpRight;
      return (
        <article
          class="group flex h-full flex-col overflow-hidden rounded-3xl border border-slate-700/50 bg-slate-950/40 shadow-inner transition hover:border-accent/60 focus-within:border-accent/60"
          role="listitem"
        >
          <a
            class="group flex h-full flex-col gap-6 p-6 text-left focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent"
            href={tool.href}
            target="_blank"
            rel="noopener noreferrer"
          >
            <span class="flex items-center gap-4">
              <span class="flex h-12 w-12 items-center justify-center rounded-2xl border border-accent/40 bg-accent/10 text-accent-light shadow-inner shadow-cyan-400/20">
                <Icon icon={icon} class="h-6 w-6" />
              </span>
              <span class="text-xl font-semibold text-white">{tool.name}</span>
            </span>
            <p class="flex-1 text-sm leading-relaxed text-slate-300">{tool.description}</p>
            <span class="inline-flex items-center gap-2 text-sm font-semibold uppercase tracking-widest text-accent-light">
              {tool.ctaLabel ?? 'Open resource'}
              <Icon icon={arrow} class="h-4 w-4 transition-transform group-hover:translate-x-1 group-focus-within:translate-x-1" />
            </span>
          </a>
        </article>
      );
    })}
  </div>
</section>
