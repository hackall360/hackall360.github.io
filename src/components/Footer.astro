---
import Icon from '~/components/Icon.astro';
import { ICONS, type IconName } from '~/utils/iconPaths';

type ContactAction =
  | {
      label: string;
      description: string;
      type: 'copy';
      value: string;
      icon: IconName;
    }
  | {
      label: string;
      description: string;
      type: 'external';
      href: string;
      icon: IconName;
    };

const contactActions: ContactAction[] = [
  {
    label: 'Email',
    description: 'Copy the address for direct outreach.',
    type: 'copy',
    value: 'alex.schott2002@gmail.com',
    icon: 'email'
  },
  {
    label: 'GitHub',
    description: 'Open the latest experiments in a new tab.',
    type: 'external',
    href: 'https://github.com/hackall360',
    icon: 'github'
  },
  {
    label: 'LinkedIn',
    description: 'Connect on LinkedIn in a new tab.',
    type: 'external',
    href: 'https://www.linkedin.com/in/alex-schott-395628233/',
    icon: 'linkedin'
  },
  {
    label: 'Indeed',
    description: 'View experience highlights on Indeed.',
    type: 'external',
    href: 'https://profile.indeed.com/p/alexs-hxc5xkz',
    icon: 'indeed'
  }
];

const arrowIcon = ICONS.arrowUpRight;
---

<footer class="relative border-t border-slate-800/80 bg-surface/80 py-12 text-sm text-slate-400 backdrop-blur">
  <div class="absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-accent/60 to-transparent" aria-hidden="true"></div>
  <div class="mx-auto flex max-w-5xl flex-col gap-10 px-6 md:flex-row md:justify-between">
    <div>
      <p class="font-mono text-xs uppercase tracking-[0.3em] text-accent-light">$ tail -f now</p>
      <h2 class="mt-2 text-lg font-semibold text-white">Letâ€™s connect</h2>
      <div class="mt-5 grid grid-cols-1 gap-3 sm:grid-cols-2">
        {contactActions.map((action) => {
          const icon = ICONS[action.icon];
          return action.type === 'copy' ? (
            <button
              type="button"
              class="group flex w-full items-center justify-between gap-3 rounded-2xl border border-slate-700/60 bg-slate-950/40 px-4 py-3 text-left font-mono text-xs uppercase tracking-[0.35em] text-slate-300 transition hover:border-accent/70 focus-visible:outline-none focus-visible:focus-ring-accent"
              data-copy={action.value}
            >
              <span class="flex w-full items-center gap-3 text-[0.7rem] tracking-[0.4em]">
                <span class="flex h-10 w-10 shrink-0 items-center justify-center rounded-full border border-accent/50 bg-accent/10 text-accent-light shadow-inner shadow-cyan-400/20 sm:h-11 sm:w-11">
                  <Icon icon={icon} class="h-[clamp(2rem,10vw,2.25rem)] w-[clamp(2rem,10vw,2.25rem)]" />
                </span>
                <span class="flex min-w-0 flex-col gap-0.5 text-left text-white">
                  <span class="copy-default break-words text-sm font-semibold uppercase tracking-[0.35em]">{action.label}</span>
                  <span class="copy-success hidden break-words text-sm font-semibold uppercase tracking-[0.35em] text-accent-light">Copied!</span>
                  <span class="break-words text-[0.6rem] normal-case tracking-normal text-slate-400">{action.description}</span>
                </span>
              </span>
            </button>
          ) : (
            <a
              class="group flex w-full items-center justify-between gap-3 rounded-2xl border border-slate-700/60 bg-slate-950/40 px-4 py-3 text-left font-mono text-xs uppercase tracking-[0.35em] text-slate-300 transition hover:border-accent/70 focus-visible:outline-none focus-visible:focus-ring-accent"
              href={action.href}
              target="_blank"
              rel="noopener noreferrer"
            >
              <span class="flex w-full items-center gap-3 text-[0.7rem] tracking-[0.4em]">
                <span class="flex h-10 w-10 shrink-0 items-center justify-center rounded-full border border-accent/50 bg-accent/10 text-accent-light shadow-inner shadow-cyan-400/20 sm:h-11 sm:w-11">
                  <Icon icon={icon} class="h-[clamp(2rem,10vw,2.25rem)] w-[clamp(2rem,10vw,2.25rem)]" />
                </span>
                <span class="flex min-w-0 flex-col gap-0.5 text-left text-white">
                  <span class="break-words text-sm font-semibold uppercase tracking-[0.35em]">{action.label}</span>
                  <span class="break-words text-[0.6rem] normal-case tracking-normal text-slate-400">{action.description}</span>
                </span>
              </span>
              <Icon
                icon={arrowIcon}
                class="h-[clamp(1.5rem,3vw,1.75rem)] w-[clamp(1.5rem,3vw,1.75rem)] text-accent-light transition group-hover:translate-x-1"
              />
            </a>
          );
        })}
      </div>
    </div>
    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
      <div class="rounded-xl border border-slate-800/80 bg-surface-elevated/80 p-5 text-slate-200 shadow-[0_0_30px_-15px_rgba(45,212,191,0.6)]">
        <p class="font-mono text-xs uppercase tracking-widest text-accent-light">Shipments</p>
        <p class="mt-2 text-3xl font-semibold text-white">42+</p>
        <p class="mt-1 text-xs text-slate-400">Production launches & experiments.</p>
      </div>
      <div class="rounded-xl border border-slate-800/80 bg-surface-elevated/80 p-5 text-slate-200 shadow-[0_0_30px_-15px_rgba(14,165,233,0.6)]">
        <p class="font-mono text-xs uppercase tracking-widest text-accent-light">Uptime</p>
        <p class="mt-2 text-3xl font-semibold text-white">99.9%</p>
        <p class="mt-1 text-xs text-slate-400">Projects maintained with obsessive care.</p>
      </div>
    </div>
  </div>
  <div class="mx-auto mt-10 max-w-5xl px-6 text-xs text-slate-500">
    <p>Built with Astro & Tailwind. Deploying curiosity daily.</p>
    <p class="mt-2">
      Analytics respect Do Not Track. Set <code class="rounded bg-slate-800 px-1.5 py-0.5 text-[0.6rem] uppercase tracking-[0.3em] text-accent-light">localStorage.plausible_ignore = "true"</code>
      to opt out instantly.
    </p>
  </div>
</footer>
